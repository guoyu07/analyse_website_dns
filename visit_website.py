#!/usr/bin/python# encoding:utf-8"""模拟浏览器访问网站"""import osimport timefrom selenium import webdriverfrom espcap import main as es_mainimport subprocessdriver = webdriver.Chrome('./chromedriver')SITE_LIST = os.path.dirname(__file__) + "websites.txt"def visit_url(url=None):    if url is None:        return    driver.get(url)    driver.implicitly_wait(30)    # driver.quit()    # time.sleep(10)def main():    if os.path.exists('error_screen'):        pass    else:        os.mkdir('error_screen')    with open(SITE_LIST) as urls:        for url in urls:            if url.startswith("#"):                continue            url = 'http://www.'+url.strip()            # es_main(nic='eth0',bpf='udp port 53')            # os.system('python espcap.py')            subprocess.Popen('python espcap.py', shell=True)            visit_url(url)            time.sleep(10)    driver.quit()def test(url):    a = 'python espcap.py '+url    subprocess.Popen(a, shell=True)    time.sleep(5)    visit_url(url)    time.sleep(10)# if __name__ == '__main__':    # main()    # test('http://www.baidu.com')    # test('http://www.hitwh.edu.cn')    # test('http://www.ifeng.com')    # driver.quit()